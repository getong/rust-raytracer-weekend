{
  "version": 3,
  "sources": ["../rtw-timer.js", "../node_modules/zooming/build/zooming.module.js", "../rtw-render.js"],
  "sourcesContent": ["export default class Timer extends HTMLElement {\n    constructor() {\n        super();\n        this.attachShadow({mode: 'open'});\n        this.active = false;\n        this.paused = false;\n\n        this.shadowRoot.innerHTML = `\n        <label>\n            <meter optimum=0 low=500 high=1000 value=0 max=1500></meter>\n            <span id=\"label-text\"></span>\n        </label>\n        `;\n\n        this.labelText = this.shadowRoot.querySelector(\"#label-text\");\n        this.meter = this.shadowRoot.querySelector(\"meter\");\n\n        this.step = this.step.bind(this);\n    }\n\n    start() {\n        if (!this.paused) {\n            this.startTime = performance.now();\n        } else {\n            this.paused = false;\n        }\n        this.active = true;\n        requestAnimationFrame(this.step);\n    }\n\n    pause() {\n        this.paused = true;\n    }\n\n    step() {\n        if (this.active && !this.paused) {\n            this._updateLabel();\n            requestAnimationFrame(this.step);\n        }\n    }\n\n    _updateLabel() {\n        const diff = performance.now() - this.startTime;\n        this.setLabel(`${diff.toFixed(1)}ms`);\n        this.meter.value = diff;\n    }\n\n    stop() {\n        this._updateLabel();\n        this.active = false;\n    }\n\n    setLabel(msg) {\n        this.labelText.innerText = msg;\n    }\n}\ncustomElements.define(\"rtw-timer\", Timer);\n", "var cursor = {\n  default: 'auto',\n  zoomIn: 'zoom-in',\n  zoomOut: 'zoom-out',\n  grab: 'grab',\n  move: 'move'\n};\n\nfunction listen(el, event, handler) {\n  var add = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n\n  var options = { passive: false };\n\n  if (add) {\n    el.addEventListener(event, handler, options);\n  } else {\n    el.removeEventListener(event, handler, options);\n  }\n}\n\nfunction loadImage(src, cb) {\n  if (src) {\n    var img = new Image();\n\n    img.onload = function onImageLoad() {\n      if (cb) cb(img);\n    };\n\n    img.src = src;\n  }\n}\n\nfunction getOriginalSource(el) {\n  if (el.dataset.original) {\n    return el.dataset.original;\n  } else if (el.parentNode.tagName === 'A') {\n    return el.parentNode.getAttribute('href');\n  } else {\n    return null;\n  }\n}\n\nfunction setStyle(el, styles, remember) {\n  checkTrans(styles);\n\n  var s = el.style;\n  var original = {};\n\n  for (var key in styles) {\n    if (remember) {\n      original[key] = s[key] || '';\n    }\n\n    s[key] = styles[key];\n  }\n\n  return original;\n}\n\nfunction bindAll(_this, that) {\n  var methods = Object.getOwnPropertyNames(Object.getPrototypeOf(_this));\n  methods.forEach(function bindOne(method) {\n    _this[method] = _this[method].bind(that);\n  });\n}\n\nvar trans = {\n  transitionProp: 'transition',\n  transEndEvent: 'transitionend',\n  transformProp: 'transform',\n  transformCssProp: 'transform'\n};\nvar transformCssProp = trans.transformCssProp,\n    transEndEvent = trans.transEndEvent;\n\n\nfunction checkTrans(styles) {\n  var transitionProp = trans.transitionProp,\n      transformProp = trans.transformProp;\n\n\n  if (styles.transition) {\n    var value = styles.transition;\n    delete styles.transition;\n    styles[transitionProp] = value;\n  }\n\n  if (styles.transform) {\n    var _value = styles.transform;\n    delete styles.transform;\n    styles[transformProp] = _value;\n  }\n}\n\nvar noop = function noop() {};\n\nvar DEFAULT_OPTIONS = {\n  /**\n   * To be able to grab and drag the image for extra zoom-in.\n   * @type {boolean}\n   */\n  enableGrab: true,\n\n  /**\n   * Preload zoomable images.\n   * @type {boolean}\n   */\n  preloadImage: false,\n\n  /**\n   * Close the zoomed image when browser window is resized.\n   * @type {boolean}\n   */\n  closeOnWindowResize: true,\n\n  /**\n   * Transition duration in seconds.\n   * @type {number}\n   */\n  transitionDuration: 0.4,\n\n  /**\n   * Transition timing function.\n   * @type {string}\n   */\n  transitionTimingFunction: 'cubic-bezier(0.4, 0, 0, 1)',\n\n  /**\n   * Overlay background color.\n   * @type {string}\n   */\n  bgColor: 'rgb(255, 255, 255)',\n\n  /**\n   * Overlay background opacity.\n   * @type {number}\n   */\n  bgOpacity: 1,\n\n  /**\n   * The base scale factor for zooming. By default scale to fit the window.\n   * @type {number}\n   */\n  scaleBase: 1.0,\n\n  /**\n   * The additional scale factor when grabbing the image.\n   * @type {number}\n   */\n  scaleExtra: 0.5,\n\n  /**\n   * How much scrolling it takes before closing out.\n   * @type {number}\n   */\n  scrollThreshold: 40,\n\n  /**\n   * The z-index that the overlay will be added with.\n   * @type {number}\n   */\n  zIndex: 998,\n\n  /**\n   * Scale (zoom in) to given width and height. Ignore scaleBase if set.\n   * Alternatively, provide a percentage value relative to the original image size.\n   * @type {Object|String}\n   * @example\n   * customSize: { width: 800, height: 400 }\n   * customSize: 100%\n   */\n  customSize: null,\n\n  /**\n   * A callback function that will be called when a target is opened and\n   * transition has ended. It will get the target element as the argument.\n   * @type {Function}\n   */\n  onOpen: noop,\n\n  /**\n   * Same as above, except fired when closed.\n   * @type {Function}\n   */\n  onClose: noop,\n\n  /**\n   * Same as above, except fired when grabbed.\n   * @type {Function}\n   */\n  onGrab: noop,\n\n  /**\n   * Same as above, except fired when moved.\n   * @type {Function}\n   */\n  onMove: noop,\n\n  /**\n   * Same as above, except fired when released.\n   * @type {Function}\n   */\n  onRelease: noop,\n\n  /**\n   * A callback function that will be called before open.\n   * @type {Function}\n   */\n  onBeforeOpen: noop,\n\n  /**\n   * A callback function that will be called before close.\n   * @type {Function}\n   */\n  onBeforeClose: noop,\n\n  /**\n   * A callback function that will be called before grab.\n   * @type {Function}\n   */\n  onBeforeGrab: noop,\n\n  /**\n   * A callback function that will be called before release.\n   * @type {Function}\n   */\n  onBeforeRelease: noop,\n\n  /**\n   * A callback function that will be called when the hi-res image is loading.\n   * @type {Function}\n   */\n  onImageLoading: noop,\n\n  /**\n   * A callback function that will be called when the hi-res image is loaded.\n   * @type {Function}\n   */\n  onImageLoaded: noop\n};\n\nvar PRESS_DELAY = 200;\n\nvar handler = {\n  init: function init(instance) {\n    bindAll(this, instance);\n  },\n  click: function click(e) {\n    e.preventDefault();\n\n    if (isPressingMetaKey(e)) {\n      return window.open(this.target.srcOriginal || e.currentTarget.src, '_blank');\n    } else {\n      if (this.shown) {\n        if (this.released) {\n          this.close();\n        } else {\n          this.release();\n        }\n      } else {\n        this.open(e.currentTarget);\n      }\n    }\n  },\n  scroll: function scroll() {\n    var el = document.documentElement || document.body.parentNode || document.body;\n    var scrollLeft = window.pageXOffset || el.scrollLeft;\n    var scrollTop = window.pageYOffset || el.scrollTop;\n\n    if (this.lastScrollPosition === null) {\n      this.lastScrollPosition = {\n        x: scrollLeft,\n        y: scrollTop\n      };\n    }\n\n    var deltaX = this.lastScrollPosition.x - scrollLeft;\n    var deltaY = this.lastScrollPosition.y - scrollTop;\n    var threshold = this.options.scrollThreshold;\n\n    if (Math.abs(deltaY) >= threshold || Math.abs(deltaX) >= threshold) {\n      this.lastScrollPosition = null;\n      this.close();\n    }\n  },\n  keydown: function keydown(e) {\n    if (isEscape(e)) {\n      if (this.released) {\n        this.close();\n      } else {\n        this.release(this.close);\n      }\n    }\n  },\n  mousedown: function mousedown(e) {\n    if (!isLeftButton(e) || isPressingMetaKey(e)) return;\n    e.preventDefault();\n    var clientX = e.clientX,\n        clientY = e.clientY;\n\n\n    this.pressTimer = setTimeout(function grabOnMouseDown() {\n      this.grab(clientX, clientY);\n    }.bind(this), PRESS_DELAY);\n  },\n  mousemove: function mousemove(e) {\n    if (this.released) return;\n    this.move(e.clientX, e.clientY);\n  },\n  mouseup: function mouseup(e) {\n    if (!isLeftButton(e) || isPressingMetaKey(e)) return;\n    clearTimeout(this.pressTimer);\n\n    if (this.released) {\n      this.close();\n    } else {\n      this.release();\n    }\n  },\n  touchstart: function touchstart(e) {\n    e.preventDefault();\n    var _e$touches$ = e.touches[0],\n        clientX = _e$touches$.clientX,\n        clientY = _e$touches$.clientY;\n\n\n    this.pressTimer = setTimeout(function grabOnTouchStart() {\n      this.grab(clientX, clientY);\n    }.bind(this), PRESS_DELAY);\n  },\n  touchmove: function touchmove(e) {\n    if (this.released) return;\n\n    var _e$touches$2 = e.touches[0],\n        clientX = _e$touches$2.clientX,\n        clientY = _e$touches$2.clientY;\n\n    this.move(clientX, clientY);\n  },\n  touchend: function touchend(e) {\n    if (isTouching(e)) return;\n    clearTimeout(this.pressTimer);\n\n    if (this.released) {\n      this.close();\n    } else {\n      this.release();\n    }\n  },\n  clickOverlay: function clickOverlay() {\n    this.close();\n  },\n  resizeWindow: function resizeWindow() {\n    this.close();\n  }\n};\n\nfunction isLeftButton(e) {\n  return e.button === 0;\n}\n\nfunction isPressingMetaKey(e) {\n  return e.metaKey || e.ctrlKey;\n}\n\nfunction isTouching(e) {\n  e.targetTouches.length > 0;\n}\n\nfunction isEscape(e) {\n  var code = e.key || e.code;\n  return code === 'Escape' || e.keyCode === 27;\n}\n\nvar overlay = {\n  init: function init(instance) {\n    this.el = document.createElement('div');\n    this.instance = instance;\n    this.parent = document.body;\n\n    setStyle(this.el, {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      opacity: 0\n    });\n\n    this.updateStyle(instance.options);\n    listen(this.el, 'click', instance.handler.clickOverlay.bind(instance));\n  },\n  updateStyle: function updateStyle(options) {\n    setStyle(this.el, {\n      zIndex: options.zIndex,\n      backgroundColor: options.bgColor,\n      transition: 'opacity\\n        ' + options.transitionDuration + 's\\n        ' + options.transitionTimingFunction\n    });\n  },\n  insert: function insert() {\n    this.parent.appendChild(this.el);\n  },\n  remove: function remove() {\n    this.parent.removeChild(this.el);\n  },\n  fadeIn: function fadeIn() {\n    this.el.offsetWidth;\n    this.el.style.opacity = this.instance.options.bgOpacity;\n  },\n  fadeOut: function fadeOut() {\n    this.el.style.opacity = 0;\n  }\n};\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n// Translate z-axis to fix CSS grid display issue in Chrome:\n// https://github.com/kingdido999/zooming/issues/42\nvar TRANSLATE_Z = 0;\n\nvar target = {\n  init: function init(el, instance) {\n    this.el = el;\n    this.instance = instance;\n    this.srcThumbnail = this.el.getAttribute('src');\n    this.srcset = this.el.getAttribute('srcset');\n    this.srcOriginal = getOriginalSource(this.el);\n    this.rect = this.el.getBoundingClientRect();\n    this.translate = null;\n    this.scale = null;\n    this.styleOpen = null;\n    this.styleClose = null;\n  },\n  zoomIn: function zoomIn() {\n    var _instance$options = this.instance.options,\n        zIndex = _instance$options.zIndex,\n        enableGrab = _instance$options.enableGrab,\n        transitionDuration = _instance$options.transitionDuration,\n        transitionTimingFunction = _instance$options.transitionTimingFunction;\n\n    this.translate = this.calculateTranslate();\n    this.scale = this.calculateScale();\n\n    this.styleOpen = {\n      position: 'relative',\n      zIndex: zIndex + 1,\n      cursor: enableGrab ? cursor.grab : cursor.zoomOut,\n      transition: transformCssProp + '\\n        ' + transitionDuration + 's\\n        ' + transitionTimingFunction,\n      transform: 'translate3d(' + this.translate.x + 'px, ' + this.translate.y + 'px, ' + TRANSLATE_Z + 'px)\\n        scale(' + this.scale.x + ',' + this.scale.y + ')',\n      height: this.rect.height + 'px',\n      width: this.rect.width + 'px'\n\n      // Force layout update\n    };this.el.offsetWidth;\n\n    // Trigger transition\n    this.styleClose = setStyle(this.el, this.styleOpen, true);\n  },\n  zoomOut: function zoomOut() {\n    // Force layout update\n    this.el.offsetWidth;\n\n    setStyle(this.el, { transform: 'none' });\n  },\n  grab: function grab(x, y, scaleExtra) {\n    var windowCenter = getWindowCenter();\n    var dx = windowCenter.x - x,\n        dy = windowCenter.y - y;\n\n\n    setStyle(this.el, {\n      cursor: cursor.move,\n      transform: 'translate3d(\\n        ' + (this.translate.x + dx) + 'px, ' + (this.translate.y + dy) + 'px, ' + TRANSLATE_Z + 'px)\\n        scale(' + (this.scale.x + scaleExtra) + ',' + (this.scale.y + scaleExtra) + ')'\n    });\n  },\n  move: function move(x, y, scaleExtra) {\n    var windowCenter = getWindowCenter();\n    var dx = windowCenter.x - x,\n        dy = windowCenter.y - y;\n\n\n    setStyle(this.el, {\n      transition: transformCssProp,\n      transform: 'translate3d(\\n        ' + (this.translate.x + dx) + 'px, ' + (this.translate.y + dy) + 'px, ' + TRANSLATE_Z + 'px)\\n        scale(' + (this.scale.x + scaleExtra) + ',' + (this.scale.y + scaleExtra) + ')'\n    });\n  },\n  restoreCloseStyle: function restoreCloseStyle() {\n    setStyle(this.el, this.styleClose);\n  },\n  restoreOpenStyle: function restoreOpenStyle() {\n    setStyle(this.el, this.styleOpen);\n  },\n  upgradeSource: function upgradeSource() {\n    if (this.srcOriginal) {\n      var parentNode = this.el.parentNode;\n\n      if (this.srcset) {\n        this.el.removeAttribute('srcset');\n      }\n\n      var temp = this.el.cloneNode(false);\n\n      // Force compute the hi-res image in DOM to prevent\n      // image flickering while updating src\n      temp.setAttribute('src', this.srcOriginal);\n      temp.style.position = 'fixed';\n      temp.style.visibility = 'hidden';\n      parentNode.appendChild(temp);\n\n      // Add delay to prevent Firefox from flickering\n      setTimeout(function updateSrc() {\n        this.el.setAttribute('src', this.srcOriginal);\n        parentNode.removeChild(temp);\n      }.bind(this), 50);\n    }\n  },\n  downgradeSource: function downgradeSource() {\n    if (this.srcOriginal) {\n      if (this.srcset) {\n        this.el.setAttribute('srcset', this.srcset);\n      }\n      this.el.setAttribute('src', this.srcThumbnail);\n    }\n  },\n  calculateTranslate: function calculateTranslate() {\n    var windowCenter = getWindowCenter();\n    var targetCenter = {\n      x: this.rect.left + this.rect.width / 2,\n      y: this.rect.top + this.rect.height / 2\n\n      // The vector to translate image to the window center\n    };return {\n      x: windowCenter.x - targetCenter.x,\n      y: windowCenter.y - targetCenter.y\n    };\n  },\n  calculateScale: function calculateScale() {\n    var _el$dataset = this.el.dataset,\n        zoomingHeight = _el$dataset.zoomingHeight,\n        zoomingWidth = _el$dataset.zoomingWidth;\n    var _instance$options2 = this.instance.options,\n        customSize = _instance$options2.customSize,\n        scaleBase = _instance$options2.scaleBase;\n\n\n    if (!customSize && zoomingHeight && zoomingWidth) {\n      return {\n        x: zoomingWidth / this.rect.width,\n        y: zoomingHeight / this.rect.height\n      };\n    } else if (customSize && (typeof customSize === 'undefined' ? 'undefined' : _typeof(customSize)) === 'object') {\n      return {\n        x: customSize.width / this.rect.width,\n        y: customSize.height / this.rect.height\n      };\n    } else {\n      var targetHalfWidth = this.rect.width / 2;\n      var targetHalfHeight = this.rect.height / 2;\n      var windowCenter = getWindowCenter();\n\n      // The distance between target edge and window edge\n      var targetEdgeToWindowEdge = {\n        x: windowCenter.x - targetHalfWidth,\n        y: windowCenter.y - targetHalfHeight\n      };\n\n      var scaleHorizontally = targetEdgeToWindowEdge.x / targetHalfWidth;\n      var scaleVertically = targetEdgeToWindowEdge.y / targetHalfHeight;\n\n      // The additional scale is based on the smaller value of\n      // scaling horizontally and scaling vertically\n      var scale = scaleBase + Math.min(scaleHorizontally, scaleVertically);\n\n      if (customSize && typeof customSize === 'string') {\n        // Use zoomingWidth and zoomingHeight if available\n        var naturalWidth = zoomingWidth || this.el.naturalWidth;\n        var naturalHeight = zoomingHeight || this.el.naturalHeight;\n        var maxZoomingWidth = parseFloat(customSize) * naturalWidth / (100 * this.rect.width);\n        var maxZoomingHeight = parseFloat(customSize) * naturalHeight / (100 * this.rect.height);\n\n        // Only scale image up to the specified customSize percentage\n        if (scale > maxZoomingWidth || scale > maxZoomingHeight) {\n          return {\n            x: maxZoomingWidth,\n            y: maxZoomingHeight\n          };\n        }\n      }\n\n      return {\n        x: scale,\n        y: scale\n      };\n    }\n  }\n};\n\nfunction getWindowCenter() {\n  var docEl = document.documentElement;\n  var windowWidth = Math.min(docEl.clientWidth, window.innerWidth);\n  var windowHeight = Math.min(docEl.clientHeight, window.innerHeight);\n\n  return {\n    x: windowWidth / 2,\n    y: windowHeight / 2\n  };\n}\n\n/**\n * Zooming instance.\n */\n\nvar Zooming = function () {\n  /**\n   * @param {Object} [options] Update default options if provided.\n   */\n  function Zooming(options) {\n    classCallCheck(this, Zooming);\n\n    this.target = Object.create(target);\n    this.overlay = Object.create(overlay);\n    this.handler = Object.create(handler);\n    this.body = document.body;\n\n    this.shown = false;\n    this.lock = false;\n    this.released = true;\n    this.lastScrollPosition = null;\n    this.pressTimer = null;\n\n    this.options = _extends({}, DEFAULT_OPTIONS, options);\n    this.overlay.init(this);\n    this.handler.init(this);\n  }\n\n  /**\n   * Make element(s) zoomable.\n   * @param  {string|Element} el A css selector or an Element.\n   * @return {this}\n   */\n\n\n  createClass(Zooming, [{\n    key: 'listen',\n    value: function listen$$1(el) {\n      if (typeof el === 'string') {\n        var els = document.querySelectorAll(el);\n        var i = els.length;\n\n        while (i--) {\n          this.listen(els[i]);\n        }\n      } else if (el.tagName === 'IMG') {\n        el.style.cursor = cursor.zoomIn;\n        listen(el, 'click', this.handler.click);\n\n        if (this.options.preloadImage) {\n          loadImage(getOriginalSource(el));\n        }\n      }\n\n      return this;\n    }\n\n    /**\n     * Update options or return current options if no argument is provided.\n     * @param  {Object} options An Object that contains this.options.\n     * @return {this|this.options}\n     */\n\n  }, {\n    key: 'config',\n    value: function config(options) {\n      if (options) {\n        _extends(this.options, options);\n        this.overlay.updateStyle(this.options);\n        return this;\n      } else {\n        return this.options;\n      }\n    }\n\n    /**\n     * Open (zoom in) the Element.\n     * @param  {Element} el The Element to open.\n     * @param  {Function} [cb=this.options.onOpen] A callback function that will\n     * be called when a target is opened and transition has ended. It will get\n     * the target element as the argument.\n     * @return {this}\n     */\n\n  }, {\n    key: 'open',\n    value: function open(el) {\n      var _this = this;\n\n      var cb = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.options.onOpen;\n\n      if (this.shown || this.lock) return;\n\n      var target$$1 = typeof el === 'string' ? document.querySelector(el) : el;\n\n      if (target$$1.tagName !== 'IMG') return;\n\n      this.options.onBeforeOpen(target$$1);\n\n      this.target.init(target$$1, this);\n\n      if (!this.options.preloadImage) {\n        var srcOriginal = this.target.srcOriginal;\n\n\n        if (srcOriginal != null) {\n          this.options.onImageLoading(target$$1);\n          loadImage(srcOriginal, this.options.onImageLoaded);\n        }\n      }\n\n      this.shown = true;\n      this.lock = true;\n\n      this.target.zoomIn();\n      this.overlay.insert();\n      this.overlay.fadeIn();\n\n      listen(document, 'scroll', this.handler.scroll);\n      listen(document, 'keydown', this.handler.keydown);\n\n      if (this.options.closeOnWindowResize) {\n        listen(window, 'resize', this.handler.resizeWindow);\n      }\n\n      var onOpenEnd = function onOpenEnd() {\n        listen(target$$1, transEndEvent, onOpenEnd, false);\n        _this.lock = false;\n        _this.target.upgradeSource();\n\n        if (_this.options.enableGrab) {\n          toggleGrabListeners(document, _this.handler, true);\n        }\n\n        cb(target$$1);\n      };\n\n      listen(target$$1, transEndEvent, onOpenEnd);\n\n      return this;\n    }\n\n    /**\n     * Close (zoom out) the Element currently opened.\n     * @param  {Function} [cb=this.options.onClose] A callback function that will\n     * be called when a target is closed and transition has ended. It will get\n     * the target element as the argument.\n     * @return {this}\n     */\n\n  }, {\n    key: 'close',\n    value: function close() {\n      var _this2 = this;\n\n      var cb = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.options.onClose;\n\n      if (!this.shown || this.lock) return;\n\n      var target$$1 = this.target.el;\n\n      this.options.onBeforeClose(target$$1);\n\n      this.lock = true;\n      this.body.style.cursor = cursor.default;\n      this.overlay.fadeOut();\n      this.target.zoomOut();\n\n      listen(document, 'scroll', this.handler.scroll, false);\n      listen(document, 'keydown', this.handler.keydown, false);\n\n      if (this.options.closeOnWindowResize) {\n        listen(window, 'resize', this.handler.resizeWindow, false);\n      }\n\n      var onCloseEnd = function onCloseEnd() {\n        listen(target$$1, transEndEvent, onCloseEnd, false);\n\n        _this2.shown = false;\n        _this2.lock = false;\n\n        _this2.target.downgradeSource();\n\n        if (_this2.options.enableGrab) {\n          toggleGrabListeners(document, _this2.handler, false);\n        }\n\n        _this2.target.restoreCloseStyle();\n        _this2.overlay.remove();\n\n        cb(target$$1);\n      };\n\n      listen(target$$1, transEndEvent, onCloseEnd);\n\n      return this;\n    }\n\n    /**\n     * Grab the Element currently opened given a position and apply extra zoom-in.\n     * @param  {number}   x The X-axis of where the press happened.\n     * @param  {number}   y The Y-axis of where the press happened.\n     * @param  {number}   scaleExtra Extra zoom-in to apply.\n     * @param  {Function} [cb=this.options.onGrab] A callback function that\n     * will be called when a target is grabbed and transition has ended. It\n     * will get the target element as the argument.\n     * @return {this}\n     */\n\n  }, {\n    key: 'grab',\n    value: function grab(x, y) {\n      var scaleExtra = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.options.scaleExtra;\n      var cb = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : this.options.onGrab;\n\n      if (!this.shown || this.lock) return;\n\n      var target$$1 = this.target.el;\n\n      this.options.onBeforeGrab(target$$1);\n\n      this.released = false;\n      this.target.grab(x, y, scaleExtra);\n\n      var onGrabEnd = function onGrabEnd() {\n        listen(target$$1, transEndEvent, onGrabEnd, false);\n        cb(target$$1);\n      };\n\n      listen(target$$1, transEndEvent, onGrabEnd);\n\n      return this;\n    }\n\n    /**\n     * Move the Element currently grabbed given a position and apply extra zoom-in.\n     * @param  {number}   x The X-axis of where the press happened.\n     * @param  {number}   y The Y-axis of where the press happened.\n     * @param  {number}   scaleExtra Extra zoom-in to apply.\n     * @param  {Function} [cb=this.options.onMove] A callback function that\n     * will be called when a target is moved and transition has ended. It will\n     * get the target element as the argument.\n     * @return {this}\n     */\n\n  }, {\n    key: 'move',\n    value: function move(x, y) {\n      var scaleExtra = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.options.scaleExtra;\n      var cb = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : this.options.onMove;\n\n      if (!this.shown || this.lock) return;\n\n      this.released = false;\n      this.body.style.cursor = cursor.move;\n      this.target.move(x, y, scaleExtra);\n\n      var target$$1 = this.target.el;\n\n      var onMoveEnd = function onMoveEnd() {\n        listen(target$$1, transEndEvent, onMoveEnd, false);\n        cb(target$$1);\n      };\n\n      listen(target$$1, transEndEvent, onMoveEnd);\n\n      return this;\n    }\n\n    /**\n     * Release the Element currently grabbed.\n     * @param  {Function} [cb=this.options.onRelease] A callback function that\n     * will be called when a target is released and transition has ended. It\n     * will get the target element as the argument.\n     * @return {this}\n     */\n\n  }, {\n    key: 'release',\n    value: function release() {\n      var _this3 = this;\n\n      var cb = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.options.onRelease;\n\n      if (!this.shown || this.lock) return;\n\n      var target$$1 = this.target.el;\n\n      this.options.onBeforeRelease(target$$1);\n\n      this.lock = true;\n      this.body.style.cursor = cursor.default;\n      this.target.restoreOpenStyle();\n\n      var onReleaseEnd = function onReleaseEnd() {\n        listen(target$$1, transEndEvent, onReleaseEnd, false);\n        _this3.lock = false;\n        _this3.released = true;\n        cb(target$$1);\n      };\n\n      listen(target$$1, transEndEvent, onReleaseEnd);\n\n      return this;\n    }\n  }]);\n  return Zooming;\n}();\n\n\nfunction toggleGrabListeners(el, handler$$1, add) {\n  var types = ['mousedown', 'mousemove', 'mouseup', 'touchstart', 'touchmove', 'touchend'];\n\n  types.forEach(function toggleListener(type) {\n    listen(el, type, handler$$1[type], add);\n  });\n}\n\nexport default Zooming;\n", "import \"./rtw-timer.js\";\nimport Zooming from \"zooming\";\n\nexport default class RtwRender extends HTMLElement {\n    constructor() {\n        super();\n        this.attachShadow({ mode: \"open\" });\n        fetch(\"./wasm_bg.wasm\");\n        this.shadowRoot.innerHTML = `\n            <style>\n                canvas {\n                    display: none;\n                    aspect-ratio: 5/3.33;\n                }\n                img {\n                    width: 100%;\n                    aspect-ratio: 5/3.33;\n                    /* height:  calc(66px * 3); */\n                    image-rendering: -moz-crisp-edges;\n                    image-rendering: -webkit-crisp-edges;\n                    image-rendering: pixelated;\n                    image-rendering: crisp-edges;\n                }\n                .controls {\n                    display: grid;\n                    grid-template-columns: 1fr 2fr;\n                    overflow-y: hidden;\n                }\n                /*\n                #timers { display: none }\n                */\n            </style>\n\n            <canvas width=\"500\" height=\"333\"></canvas>\n            <img width=\"500\" height=\"333\" class=\"zoomable\" />\n            <div class=\"controls\">\n                <button id=\"do-render\" disabled>Render</button>\n                <ol reversed id=\"timers\"></ol>\n            </div>\n        `;\n    }\n\n    connectedCallback() {\n        this.btnRender = this.shadowRoot.querySelector(\"button#do-render\");\n        this.canvas = this.shadowRoot.querySelector(\"canvas\");\n        this.img = this.shadowRoot.querySelector(\"img\");\n        this.timersCollapse = this.shadowRoot.querySelector(\"pfe-collapse\");\n        this.timers = this.shadowRoot.querySelector(\"#timers\");\n        this.timer = this.addTimer();\n\n        this.ctx = this.canvas.getContext(\"2d\");\n        this.moduleWorkerSupported = true;\n\n        this.worker = this.createWorker();\n\n        this.wasmInit = null;\n        this.wasmRender = null;\n\n        this.btnRender.addEventListener(\"click\", () => {\n            this.preRender();\n            this.render();\n        });\n\n        new Zooming({}).listen(\".zoomable\");\n    }\n\n    createWorker() {\n        const workerUrl = new URL(`${import.meta.url}/../wasm-worker.js`);\n        const worker = new Worker(workerUrl.href, { type: \"module\" });\n        worker.addEventListener(\"message\", async (e) => {\n            if (e.data.status === \"success\") {\n                if (e.data.data.imageData) {\n                    this.postRender(e.data.data.imageData);\n                } else if (e.data.data.initialized) {\n                    this.btnRender.disabled = false;\n                }\n            } else if (e.data.status === \"error\") {\n                console.log(`web worker error type: ${e.data.data.type}`);\n                if (e.data.data.type === \"import\") {\n                    // switch to main thread mode\n                    this.moduleWorkerSupported = false;\n                    // enable the render button\n                    this.btnRender.disabled = false;\n\n                    // initialize wasm\n                    const wasmModule = await import(\"./wasm-render.js\");\n                    this.wasmInit = wasmModule.wasmInit;\n                    this.wasmRender = wasmModule.wasmRender;\n                    await wasmInit();\n\n                    this.timer.pause();\n                    this.timer.setLabel(\n                        \"Module worker not supported in this browser; running on the main thread (expect lockup during render).\"\n                    );\n                }\n                if (e.data.data.type === \"render\") {\n                    this.timer.pause();\n                    this.timer.setLabel(\n                        \"Error occurred in worker during rendering.\"\n                    );\n                }\n            }\n        });\n\n        worker.postMessage(\"init\");\n        return worker;\n    }\n\n    /**\n     * Begin the rendering, including starting a timer widget, starting render\n     * within the wasm module, and writing the render result into the canvas.\n     */\n    async preRender() {\n        this.timer = this.addTimer();\n        // clearImage();\n        this.timer.start();\n    }\n\n    async render() {\n        console.log(\n            `starting render ${\n                [\"ON\", \"OFF\"][~~this.moduleWorkerSupported]\n            } the main thread`\n        );\n        if (this.moduleWorkerSupported) {\n            this.worker.postMessage(\"render\");\n        } else {\n            this.postRender(await this.wasmRender());\n        }\n    }\n    postRender(imageData) {\n        console.time(\"drawing canvas\");\n        this.ctx.putImageData(imageData, 0, 0);\n        console.timeEnd(\"drawing canvas\");\n        console.time(\"copying canvas to image\");\n        this.img.src = this.canvas.toDataURL();\n        console.timeEnd(\"copying canvas to image\");\n        this.timer.step();\n        this.timer.stop();\n        this.btnRender.innerText = \"Re-render\";\n    }\n\n    addTimer() {\n        const newTimer = document.createElement(\"rtw-timer\");\n        const li = document.createElement(\"li\");\n        li.appendChild(newTimer);\n        this.timers.prepend(li);\n        return newTimer;\n    }\n}\n\ncustomElements.define(\"rtw-render\", RtwRender);\n"],
  "mappings": "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",
  "names": []
}
